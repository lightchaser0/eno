<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36" version="26.1.0">
  <diagram name="Page-1" id="uhSqqSUA-CR1EVdYtRHn">
    <mxGraphModel dx="3685" dy="517" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="nxpd1Gqb6fERObNxtbz0-1" value="strategy" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-2" value="strategy_id" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="250" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-3" value="strategy_desc" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="410" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-4" value="rule_models" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="580" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-5" value="create_time" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-6" value="update_time" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="910" y="140" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-7" value="strategy_rule" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-8" value="strategy_id" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="250" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-9" value="award_id" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="410" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-10" value="rule_type&lt;div&gt;(策略规则和奖品规则)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="580" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-11" value="rule_value" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="908" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-12" value="rule_desc" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1068" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-13" value="create_time" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1228" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-14" value="update_time" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1388" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-15" value="strategy_award" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-16" value="strategy_id" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="250" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-17" value="award_id" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="410" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-18" value="award_title" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="580" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-19" value="award_subtitle&lt;div&gt;(奖品规则信息)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-20" value="award_count" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="910" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-21" value="award_count_surplus" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1070" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-22" value="award_rate" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1230" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-23" value="rule_models" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1400" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-24" value="sort" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1560" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-25" value="create_time" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1720" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-26" value="update_time" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1880" y="340" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-27" value="rule_model" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="240" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-33" value="策略奖品：①每一个策略对应的奖品信息，包括奖品的库存，中奖概率，奖品的规则模型，抽奖页面转盘的顺序&lt;div&gt;②奖品的规则模型可以在startegy_rule,也可以在rule_tree里&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-300" y="340" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-34" value="策略规则&lt;div&gt;①抽奖中：&lt;/div&gt;&lt;div&gt;②抽奖前：rule_weight,rule_blacklist&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;具体信息&lt;/span&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-290" y="240" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="nxpd1Gqb6fERObNxtbz0-35" target="nxpd1Gqb6fERObNxtbz0-36">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-35" value="装配策略" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1400" y="220" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="nxpd1Gqb6fERObNxtbz0-36" target="nxpd1Gqb6fERObNxtbz0-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-36" value="查询策略奖品表-&amp;gt;strategyAwardEntity&lt;div&gt;(不包括规则模型和时间)&lt;/div&gt;&lt;div&gt;缓存策略id对应的奖品信息(1个key)&lt;/div&gt;&lt;div&gt;缓存策略id对应的奖品的数量(n个key)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1200" y="220" width="220" height="70" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="nxpd1Gqb6fERObNxtbz0-38" target="nxpd1Gqb6fERObNxtbz0-40">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-38" value="装配全量抽奖" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-920" y="220" width="130" height="70" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="nxpd1Gqb6fERObNxtbz0-40" target="nxpd1Gqb6fERObNxtbz0-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="nxpd1Gqb6fERObNxtbz0-40" target="nxpd1Gqb6fERObNxtbz0-49">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-40" value="查询策略表&lt;div&gt;查看是否有权重策略，&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-740" y="220" width="130" height="70" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-42" value="查询策略规则表，&lt;div&gt;根据积分&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;装配&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;对应的权重&lt;/span&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-735" y="344" width="120" height="65" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-48" value="有" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-690" y="298" width="40" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-49" value="返回" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-560" y="222.5" width="120" height="65" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-51" value="没有" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="-615" y="238" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="nxpd1Gqb6fERObNxtbz0-52" target="nxpd1Gqb6fERObNxtbz0-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-52" value="抽奖" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1400" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="nxpd1Gqb6fERObNxtbz0-53" target="nxpd1Gqb6fERObNxtbz0-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-53" value="验证用户和&lt;div&gt;策略ID不为空&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1200" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="nxpd1Gqb6fERObNxtbz0-55" target="nxpd1Gqb6fERObNxtbz0-56">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-55" value="责任链" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-1010" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-56" value="规则树" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-830" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-59" value="rule_tree" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-60" value="tree_id" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="250" y="440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-61" value="tree_name" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="410" y="440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-62" value="tree_desc" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="580" y="440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-63" value="tree_node_rule_key&lt;div&gt;(root_key?入口)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-64" value="create_time" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="910" y="440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-65" value="update_time" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1070" y="440" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-66" value="规则树：策略奖品里rule_model的值-&amp;gt;tree_id" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-320" y="440" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-67" value="rule_tree_node" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-68" value="tree_id" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="250" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-69" value="rule_key" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="410" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-70" value="rule_desc" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="580" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-71" value="rule_value" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-72" value="create_time" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="910" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-73" value="update_time" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1070" y="540" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-74" value="规则树节点：rule_key 对应tree_node_rule_key&lt;div&gt;rule_value:该节点规则的值，比如lock的值，&lt;/div&gt;&lt;div&gt;比如luckward的奖品id&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-320" y="540" width="340" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-75" value="rule_tree_node_line" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-76" value="tree_id" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="250" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-77" value="rule_node_from" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="410" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-78" value="rule_node_to" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="580" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-79" value="rule_limit_type" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="750" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-80" value="rule_limit_value&lt;div&gt;(控制走向的感觉)&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="910" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-81" value="create_time" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1070" y="640" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="nxpd1Gqb6fERObNxtbz0-82" value="update_time" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1228" y="640" width="120" height="60" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
